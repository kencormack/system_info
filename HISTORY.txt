
CHANGES: V1.6.9
 1. renamed "RC.LOCAL" banner to "CONTENTS OF RC.LOCAL" to reduce confusion.
 2. fix 1-wire function "fnW1"/"fn1W" typo.

CHANGES: V1.6.8
 1. Added a notation in the summary that menu option 16 overrides any/all other selections
    that may have been made.
 2. Added output of "ls -1 /sys/bus/w1/devices" to fnW1, by request.

CHANGES: V1.6.7
 1. Added checks during initialization to ensure not running in a VM or chroot'd environment.
 2. Added supplemental package "systemd-container".
 3. Added NSPAWN (***) section / checks for nspawn-related virtual environments to
    main menu option 14 (Containers & Virtualization)

CHANGES: V1.6.6
 1. Moved RING OSCILLATOR STATS to it's own function, in fnGROUP_PERFORMANCE.
 2. Added section headings to the output, to indicate which sections of the
    report corresponded to which main menu selections.

CHANGES: V1.6.5
 1. With WiringPi deprecated, prevent use of WiringPi on the new Pi 4B 8GB model.
    Pi 4B 1/2/4GB models will still be examined, if WiringPi 2.5.2 is installed.

CHANGES: V1.6.4
 1. Added shared memory, message and semaphore details to IPC STATUS section

CHANGES: V1.6.3
 1. Added HDPARM SATA/IDE DEVICE PARAMETERS section
 2. Added hdparm as additional supplemental package
 3. Broke out 'lshw -businfo' to create tmpfile right after supplemental package
    check, and not delete the tmp file it creates until the end of the script,
    so that the info it gathers would be available to other modules that depend
    on that info.  Before breaking the script up with the menu, the info was
    available all throughout the script.  Once the menu broke things up, it was
    possible that sections chosen in the menu would not have the info available,
    since the function that gathered the info wouldn't be run.  New setup ensures
    the info is gathered (and preserved) before any menu selections are made.

CHANGES: V1.6.2
 1. Added VIDEO CORE VERSION AND LOG STATUS section
 2. Added VIDEO CORE OUT-OF-MEMORY EVENTS section
 3. Added VIDEO CORE RELOCATABLE MEMORY STATS section
 4. Added RING OSCILLATOR STATS section
 5. Added DISPLAY POWER UP STATUS section
 6. Fixed missing HDMI info not displayed menu option 1 or 16 hadn't been selected (display driver would be undefined) 

CHANGES: V1.6.1
 1. Swapped options 14 & 15 on the menu, to put docker ahead of package list
 2. changed package dependency from docker-ce to docker-ce-cli
 3. Added "sed 's/\r//'" to the writing of the report, to eliminate risk of DOS CR's creeping into the report.
 4. Added "2>/dev/null" to a number of "cat" and "grep" commands
 5. Updated the required and supplemental package lists in the opening comments
 6. Minor tweaks to supplemental notationsda

CHANGES: V1.6.0
 1. Added menu option for "Containers & Virtualization"
 2. Added support for DOCKER

CHANGES: V1.5.9
 1. Added LIRC - LINUX INFRA-RED COMMUNICATION DEVICES section.
 2. Added lirc as supplemental package.

CHANGES: V1.5.8
 1. Fixed a broken "grep -v" in UARTS AND USB SERIAL PORTS
 2. Added "raspi-gpio get" data to each additional Pi 4 uart configured
 3. Added a way to prevent the user from trying to run the script under
    any shell other than bash (for example: "sh scriptname", or "ksh scriptname")
 4. Added procps as a required package
 5. Gathers some info on the Pi 4B's additional I2C busses.

CHANGES: V1.5.7
 1. Added hciconfig output to BLUETOOTH CONTROLLERS section
 2. Added "dtoverlay -h" details about 4B uarts to UARTS AND USB SERIAL PORTS section
 3. Added saving & recalling the last menu items selected, and pre-loading the menu
    with those saved selections, the next time the script is run.

CHANGES: V1.5.6
 1. Added a summary to the bottom of the report, listing which menu selections were
    made to generate the report,
 2. Increased number of serial port devices to look for, from 0 thru 1, to 0 thru 5 (to allow for 4B's four additional uarts)
 3. Reworked UARTS AND USB SERIAL PORTS section

CHANGES: V1.5.5
 1. Clear the screen at beginning of the script.
 2. Added CHECKING REPOSITORIES section to check the repositories for available upgrades
 3. Added CONFIGURED REPOSITORIES section to list configured binary and source repos
 4. Added total time to execute, at the end of the report
 5. Simplified "if files exist" in fnLOCALE
 6. Fixed the Pi4B's 2711 voltages to display like the others.
 7. Ran "shellcheck" against the script, and cleaned up a few coding malpractices it found.
 8. Fixed typo in RSYSLOG.CONF section.
 9. Added an elapsed time to execute, to the footer of the report.

CHANGES: V1.5.4
 1. Replaced degree symbol (Â°) with $'\xc2\xb0' construct - was causing UTF-8 Unicode rather than ASCII text, confusing github.
 2. Removed unused section CONFIG.TXT VALUES ABOVE, THAT ARE "LIVE"
 3. Set every module as a function, to facilitate rearranging order and prepping for a menu of some sort.
 4. Added CURRENT ROWS & COLUMNS section
 5. Created menu system, and all report data is now writtien to a report file in the user's homedir

CHANGES: V1.5.3
 1. Added USB STORAGE WITH TRIM ENABLED section
 2. Added detection of KVM-enabled kernel
 3. Added supplemental package "smartmontools"
 4. Added supplemental USB STORAGE WITH S.M.A.R.T. (***) section

CHANGES: V1.5.2
 1. Added supplemental OPERATING SYSTEM ERROR NUMBERS (***) section
 2. Updated required and supplemental package lists in the comments at top of the script
 3. Added supplemental package "sysbench"
 4. Added supplemental SYSBENCH CPU BENCHMARK (***) section
 5. Added supplemental SYSBENCH MEMORY READ/WRITE BENCHMARK (***) section
 6. Added (but commented out) supplemental SYSBENCH FILEIO BENCHMARK (***) section

CHANGES: V1.5.1
 1. Marked ULIMIT AND COREDUMPS as supplemental "(***)"
 2. Greatly simplified PI MODEL 4B EEPROM CONFIG.  I will no longer document
    each setting here, instead referring the user to online documentation:
    https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2711_bootloader_config.md
 3. Added DMESG - WARN and DMESG - FAIL sections
 4. Minor tweaks to HDMI Display detection
 5. Added LED TRIGGERS section
 6. Added LOADED OVERLAYS section
 7. Added LOADED DTPARAMS section

CHANGES: V1.5.0
 1. Updated comments at top of script to reflect recent additional packages.
 2. Modified fnBANNER to help visually divide modules.
 3. Added fnSUB_BANNER to help visually divide sections of a single module.
 4. Added a title screen
 5. Added m4 and perl-base as supplemental packages
 6. Merged in "syslogconf" perl logic to create RSYSLOG.CONF ANALYSIS (***)

CHANGES: V1.4.9
 1. Added sed as a required package
 2. Added mdadm as a supplemental package
 3. Added lvm2 as a supplemental package
 4. Added RAID ARRAY CONFIGURATION (***)
 5. Added LOGICAL VOLUME MANAGER CONFIGURATION (***)

CHANGES: V1.4.8
 1. Refinements to core dump reporting
 2. Added QUOTAS section

CHANGES: V1.4.7
 1. Added "systemctl list-jobs" to SYSTEMD-ANALYZE CRITICAL-CHAIN
 2. Modified SCALING GOVERNOR to consider settings other than just "ondemand".
 3. Added "systemctl list-jobs" to SYSTEMD-ANALYZE CRITICAL-CHAIN
 4. Minor reformatting of CLOCK FREQUENCIES and VOLTAGES
 5. Added ULIMIT AND COREDUMPS section
 6. Added systemd-coredump as a supplemental package

CHANGES: V1.4.6
 1. Added "vcgencmd dispmanx_list" to HDMI DISPLAY DATA
 2. Tweaked HDMI DISPLAY DATA to better visually seperate HDMI 0 results from HDMI 1 results.
 3. Added I2S, I2C, and SPI module checks, and added additional info to 1-WIRE check.
 4. Added blkid info to DISK CONFIGURATION section

CHANGES: V1.4.5
 1. Fixed stderr redirect with xrandr
 2. Added detection if w1-gpio devices
 3. Added ${SUDO} to PI MODEL 4B EEPROM UPDATE STATUS

CHANGES: V1.4.4
 1. Use "vcgencmd get_config arm_64bit" instead of uname to determine 32 or 64-bit kernel
 2. Added camera led status
 3. Added x11-xserver-utils as an optional package
 4. Added CURRENT X-DISPLAY RESOLUTION (***) section
 5. Added optional package rng-tools
 6. Added HARDWARE RANDOM NUMBER GENERATOR (***) section

CHANGES: V1.4.3
 1. Added confirmation of /var/log/journal owner/group/perms
 2. Disabled HDMI DISPLAY DATA and CURRENT SCREEN RESOLUTION sections if vc4-kms-v3d(-pi4) display driver
 3. Re-worked VIDEO4LINUX DEVICES

CHANGES: V1.4.2
 1. Fixed typo, added perms check, sync, flush, journal sizes, list-boots, and disk-usage to PERSISTENT JOURNALING
 2. Fixed error in GPU temp formatting
 3. Moved OPERATING SYSTEM closer to the top

CHANGES: V1.4.1
 1. Minor cleanups
 2. Added simple check, for 64-bit or 32-bit kernel, to OPERATING SYSTEM section

CHANGES: V1.4.0
 1. Disabled display of I2CDETECT section if "dtparam=i2c_arm=on" not found in config.txt
 2. Disabled output of BLUETOOTH DEVICES section if no paired devices are found
 3. For "tvservice --modes=${TVGROUP}" in HDMI DISPLAY DATA section, force the group
    to DMT if display "group" is neither "DMT" nor "CEA", but "CUSTOM"
 4. Reworked the search for supplemental packages, similar to the search for required packages
 5. Added comments about minimum memory required for camera and HW codecs, to the MEMORY SPLIT section
 6. Re-added "bc" as a required package.
 7. Renamed Core Temp to GPU Temp, and added ARM Temp, to TEMPERATURES section.
 8. minor tweaks to formatting of temperatures

CHANGES: V1.3.9
 1. Fixed 4B identifying wiringpi less than 2.52 as an installed supplemental package
 2. Fixed problem with wiringpi non-2.52 mistakenly running "gpio readall" test on 4B
 3. Fixed display of missing parameters in PI MODEL 4B EEPROM CONFIG

CHANGES: V1.3.8
 1. Added missing "net-tools" as being a required package
 2. Added "NETSTAT" section
 3. Added additional 4B clock frequencies to CLOCK FREQUENCIES section
 4. Added 4B-specific voltages to VOLTAGES section
 5. Added 4B-specific clocks to CLOCK FREQUENCIES section

CHANGES: V1.3.7
 1. Added confirmation of playback and capture devices before attempting to display,
    to the ALSA PLAYBACK AND CAPTURE DEVICES section.
 2. tidy up stderr from lshw throughout.
 3. Split off current screen resolution to it's own CURRENT SCREEN RESOLUTION section
 4. Added notes to the HARDWARE-ACCELERATED CODECS section
 5. Added MAC-ADDRESS(ES) section
 6. Re-ordered the PI 4B EEPROM sections and split out PI MODEL 4B EEPROM UPDATE STATUS
 7. Added package rpi-eeprom as a required package, but only if the Pi is a 4B.
 8. Added a detailed breakdown of the 4B's EEPROM config

CHANGES: V1.3.6
 1. Moved DECODED SYSTEM REVISION NUMBER section to right after PRELIMINARY CHECKS.
    Also preserved each decoded value in appropriate variables that
    can be referenced to make decisions easier, later in the script.
 2. Added check of wiringpi version number if a Pi 4B, in the search for supplemental packages
 3. Added contents of rc.local

CHANGES: V1.3.5
 1. Updated comments in a few places.
 2. Added logic to DECODED SYSTEM REVISION NUMBER section, to
    call attention to early 4B's with USB-C power design flaw.
 3. removed unnecessary "type -path" test from SCALING GOVERNOR
 4. Added supplemental package ethtool, along with ETHTOOL (***) section.
 5. Added "| tee /dev/null" to several systemctl statements, and to
    "dpkg -l", to keep from paging/pausing output.
 6. Demoted wiringpi from required to supplemental package, due
    to it's deprication, and the Pi 4B.

CHANGES: V1.3.4
 1. renamed codecs section to "gpu hardware-accelerated codecs"
 2. Added note that "gpu_mem=16" disables codecs, and "gpu_mem=96"
    is minumum for codecs to run.
 3. Added v4l-utils as a required package
 4. Added "V4L2-CTL CODECS" section w/ notes about H265 on Pi 4B
 5. Added ADDITIONAL VIDEO4LINUX DEVICE section to loop through
    "v4l2-ctl -d ${NUM} --all", for other than the onboard
    video10, video11, video12 (decode, encode, resize/convert)
 6. Added supplemental package rtl-sdr
 7. Added RTL-SDR TUNER section

CHANGES: V1.3.3
 1. Corrected "type -path" bug with "mounted nfs dirs"
 2. Reworked the hardware codecs.  No hardware decoding of MPG2 and WVC1 on the Pi 4B.
 3. Added a few checks to ensure files exist before reading them.
 4. Fixed search for on-hold packages.

CHANGES: V1.3.2
 1. Minor comment and organizational changes
 2. Added check for packages marked as on "hold"
 3. Added supplimental package python3-gpiozero
 4. Added SYSTEM DIAGRAM section using "pinout"
 5. Added required package "coreutils"
 6. Changed "dc" from a required to supplemental package dependency
 7. Removed "bc" as a dependency - using bash for integer math instead
 8. Tweaked memory split and processor speeds to use printf

CHANGES: V1.3.1
 1. Added supplemental package sysstat, for mpstat and iostat
 2. Added nfsiostat (if remote nfs shares are mounted)
 3. Added Broadcom watchdog timer
 4. Added missing required package iproute2 as required package
 5. Removed most of the redundant "type -path" tests.
 6. Removed "fnREQUIRE".

CHANGES: V1.3.0
 1. Added /etc/hosts.deny and /etc/hosts.allow
 2. Added portmapper rpcinfo
 3. Added exported nfs dirs
 4. Added mounted nfs dirs
 5. Added smbstatus
 6. Added mounted cifs dirs
 7. Improved the checks for supplemental packages
 8. Added confirmation of Pi2B v1.2 to OTP boot from usb check

CHANGES: V1.2.9
 1. Added Pi4 EEPROM Version, and EEPROM Config
 2. Added Pi4 EEPROM upgrade required check
 3. OTP boot mode now only checked for non-Pi4 models
 4. Added check of the dmesg ring buffer to ensure data
    we expect to retrieve hasn't been overwritten
 5. Added lshw generic class
 6. Added lshw input class
 7. Added meminfo display

CHANGES: V1.2.8
 1. Added github URL
 2. Fixed nmap routine to not enforce that it be installed
 3. Re-worked list modules to not require a tmpfile
 4. Added uname to commands passed to fnREQUIRE
 5. Fixed wpa_supplicant display password concealment
 6. "2>/dev/null" added to amixer, aplay, and arecord
 7. Added "systemd-analyze time" and "systemd-analyze critical-chain"
 8. Added "systemd-analyze blame"
 9. Added "systemctl status"

CHANGES: V1.2.7
 1. Added localization settings - language, keyboard, timezone
 2. Activated the loaded modules section, and updated the comments
 3. Activated the installed package list section, and updated the comments
 4. Added announcement that lpstat and nmap are found to be installed
 5. Added detection of Official 7" Touchscreen

CHANGES: V1.2.6
 1. updates to various comments
 2. fixed an erroneous error msg with calls to "dpkg -l"
 3. added a couple missing calls to sudo
 4. added IPv6-specific handling for route table display and port scanning

CHANGES: V1.2.5
 1. Added "SCANNING FOR" to the nmap port scan, to explain the delay.
 2. Added "systemctl list-unit-files"
 3. Added "uptime -p" to the OPERATING SYSTEM section
 4. Added wpa_supplicant file, with concealment of stored passwords
 5. Added a trailing newline to fnBANNER to give data breathing room
 6. Fixed a couple my missing sudos with "lshw -class"

CHANGES: V1.2.4
 1. Not a requirement/dependency, but if it is installed, the script
    will perform a port-scan of all network interfaces with an ip
    address, using "nmap".
 2. list all installed modules
 3. list all installed packages

CHANGES: V1.2.3
 1. Fixed determining which OpenGL driver (Full or Fake) is running
 2. Corrects an error in a dependency check
 3. Small fix to ip neighbors.

CHANGES: V1.2.2
 1. Corrected a "||" for "&&" error in a dependency check
 2. Small fix to ip neighbors 

CHANGES: V1.2.1
 1. Added "lpstat -t" printer status
 2. Added "ip neigh" (arp cache)
 3. Added visible WiFi access points
 4. Added report date/time to report
 5. Tweaked determination of active loaded video driver.
    This still needs work, as conditional branching in config.txt
    could present issues if multiple driver references appear
    in the config.txt file.
 6. Minor wording tweaks here and there
 7. Added display of /etc/hosts, resolv.conf, and networks files
 8. Display /etc/iptables.up.rules and /etc/ip6tables.up.rules
 9. Show contents of /etc/fstab
10. check cmdline.txt for "ipv6.disable=1"
11. Added cpu information (lscpu)
12. expanded the storage device info section
13. Re-ordered the sections a bit

CHANGES: V1.2.0
 1. Added some details for any found /dev/tty/ACM* devices
 2. Added some details for any network adaptor hardware
 3. Added some details for any multimedia devices
 4. Added some details for any storage devices
 5. Added detection of camera
 6. Checking additional codecs
 7. Decode Processor Throttling Status
 8. Check OTP for boot-from-usb.

CHANGES, ROUND 4:
 1. Added decoding of the system's revision number to show Manufacturer, Warranty status, etc.
 2. When checking dependencies, I added an exception for the "wiringpi" package.  Some prefer
building the latest libraries from source, instead.  If the package check fails, yet the "gpio"
tool built from the source tarball is found in the user's $PATH, we allow that alternate version.
 3. Added minimum OS version check (stretch or later required.)

CHANGES, ROUND 3:
 1. Added hostname, and cleaned up display of serial number.
 2. Renamed "Speed Governor" to "Scaling Governor", to reflect what its called in all the docs.
 3. Query dpkg directly, to see if each required package is installed.
 4. Expanded the HDMI DISPLAY information block to add more data.
 5. Show which video driver is loaded: Open GL, "Fake" Open GL, or the Default Broadcom driver.
 6. Took a stab at reporting on BOTH HDMI ports of a Pi 4B.  Guessing at this, as I dont own a Pi 4B.

CHANGES, ROUND 2:
 1. Fixed "MEMORY SPLIT" reporting in a way that accurately works with Pi 4 > 1GB, and removed the
    "Total memory" (free) work-around, as it didn't really convey the intended information.
 2. Added the "if type -path" test, to some recently added stanzas.
 3. Added the Pi's Serial Number.
 4. Added "gpio readall" (requires that the wiringpi package be installed).
 5. Renamed the "banner" function to "fnBANNER", since "banner" is the name of an unrelated
    and legitimate "banner" command that has been part of Unix for 40+ years.
 6. Also renamed "require_util" to "fnREQUIRE".  (See comments on my personal coding style, below)
 6. Ran the script through a beautifier, to make the code formatting consistent.
 7. Did away with the "fail" function, and reworked the test for the sudo command.
    I can't see *any* interactive user account not having /bin and /usr/bin in their path,
    nor have I ever seen a *nix variant put the sudo command anywhere outside the user's path.
    Rather than explicitly test for the sudo binary file in multiple dirs, I changed this to
    use "type -path sudo", to set ${SUDO}.  This might also warrant reducing the list of commands
    searched for when calling fnREQUIRED.  (Do we *really* need to check for commands like
    "cat", "ls", and so on?)  I'd focus only on commands from the supplemental packages, and skip
    those that are part and parcel of every raspbian bare-metal install.

CHANGES, ROUND 1:
 1. Incorporated William's changes.
 2. Fixed bluetoothctl commands to work with Stretch.
 3. Removed wlan0-only restriction from netstat.  All interfaces are now displayed.
 4. Added "2>&1" to i2cdetect to capture warnings about busses that don't support detection commands.
 5. Added HDMI current display mode (tvservice -s)
 6. Added operating system version info.  This includes dotting-in the /etc/os-release file.
 7. Added filesystem type to "df -h" - now "df -h -T", in disk configuration section.
 8. Added "PATH=${PATH}:/sbin:/usr/sbin" because some tools not necessarily needing root access
    to execute were being flagged as a "Missing utility", when in fact, they are installed, but
    not in the user's $PATH.
 9. Added "hwclock" to RTC section, to show hardware time in addition to OS "date" command.
10. Relaced "netstat -r" with route
